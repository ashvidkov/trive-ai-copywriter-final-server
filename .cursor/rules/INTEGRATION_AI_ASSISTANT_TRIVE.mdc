---
description: –ü—Ä–∞–≤–∏–ª–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞ (Colab-–ø—Ä–æ—Ç–æ—Ç–∏–ø) –≤ –ø—Ä–æ–µ–∫—Ç TRIVE AI-–ö–æ–ø–∏—Ä–∞–π—Ç–µ—Ä
globs:
  - "**/*"
alwaysApply: true
---

# üß† –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞ (Colab-–ø—Ä–æ—Ç–æ—Ç–∏–ø) –≤ –ø—Ä–æ–µ–∫—Ç TRIVE AI-–ö–æ–ø–∏—Ä–∞–π—Ç–µ—Ä

---

## –¶–µ–ª—å
–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ –∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–±–æ—á—É—é –ª–æ–≥–∏–∫—É AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞ –∏–∑ Google Colab –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω-–ø—Ä–æ–µ–∫—Ç —Å backend (FastAPI), frontend (React) –∏ PostgreSQL.

---

## ‚úÖ –ß—Ç–æ —É –Ω–∞—Å —É–∂–µ –µ—Å—Ç—å
- –†–∞–±–æ—á–∏–π Colab-–Ω–æ—É—Ç–±—É–∫ —Å –ª–æ–≥–∏–∫–æ–π:
  - –£–Ω–∏–∫–∞–ª–∏–∑–∞—Ü–∏—è –¥–ª–∏–Ω–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ (—Å —á–∞–Ω–∫–∞–º–∏)
  - SEO-–º–∏–∫—Ä–æ–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç—ã: Title, Description, Keywords, H1
- Backend FastAPI + PostgreSQL (—Ç–∞–±–ª–∏—Ü—ã `texts`, `themes`, `text_themes`)
- Frontend –Ω–∞ React + Tailwind (–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å –ø–æ–ª—è–º–∏ content/result/meta)
- .env —Ñ–∞–π–ª –¥–ª—è –∫–ª—é—á–µ–π

---

## üóÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
**–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:**
- `texts` (id, title, h1, content, result, meta_description, keywords, status)
- `themes`, `text_themes` (—Ç–µ–º–∞—Ç–∏–∫–∏ –∏ —Å–≤—è–∑–∏)

**Frontend:**
- EditorPage —Å –ø–æ–ª—è–º–∏ –∏ –∫–Ω–æ–ø–∫–∞–º–∏ (–°–æ–≥–ª–∞—Å–æ–≤–∞—Ç—å / –î–æ—Ä–∞–±–æ—Ç–∞—Ç—å / –£–¥–∞–ª–∏—Ç—å)

**Backend:**
- FastAPI —Å API-—ç–Ω–¥–ø–æ–∏–Ω—Ç–∞–º–∏ –Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ

---

## ‚öôÔ∏è –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å

### 1. üîë –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ OpenAI API
–í `.env` —Ñ–∞–π–ª–∞ –ø—Ä–æ–µ–∫—Ç–∞ –¥–æ–±–∞–≤–∏—Ç—å:
```env
OPENAI_API_KEY=sk-...
```

–í `settings.py` FastAPI:
```python
import os
OPENAI_API_KEY = os.getenv("OPENAI_API_KEY")
```

---

### 2. üì¶ –°–æ–∑–¥–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ `ai_assistant.py` (–∏–ª–∏ `assistant_core.py`)
–§–∞–π–ª —Å–æ–¥–µ—Ä–∂–∏—Ç —Ñ—É–Ω–∫—Ü–∏–∏:

```python
from openai import OpenAI
import os

client = OpenAI(api_key=os.getenv("OPENAI_API_KEY"))

def split_text(text, max_length=1200):
    # –ª–æ–≥–∏–∫–∞ —Ä–∞–∑–±–∏–≤–∫–∏ –Ω–∞ —á–∞–Ω–∫–∏

def rewrite_chunk(chunk):
    # —Å–∏—Å—Ç–µ–º–Ω—ã–π prompt + user prompt (—É–Ω–∏–∫–∞–ª–∏–∑–∞—Ü–∏—è)

def generate_title(text):
    # –º–∏–∫—Ä–æ–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç Title

def generate_description(text):
    # –º–∏–∫—Ä–æ–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç Description

def generate_keywords(text):
    # –º–∏–∫—Ä–æ–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç Keywords

def generate_h1(text):
    # –º–∏–∫—Ä–æ–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç H1

def generate_full_output(text):
    chunks = split_text(text)
    rewritten_chunks = [rewrite_chunk(ch) for ch in chunks]
    final_text = "\n\n".join(rewritten_chunks)
    return {
        "result": final_text,
        "title": generate_title(final_text),
        "h1": generate_h1(final_text),
        "meta_description": generate_description(final_text),
        "keywords": generate_keywords(final_text)
    }
```

---

### 3. üîå –î–æ–±–∞–≤–∏—Ç—å —ç–Ω–¥–ø–æ–∏–Ω—Ç –≤ FastAPI
–í `routes/ai.py`:
```python
from fastapi import APIRouter
from pydantic import BaseModel
from .ai_assistant import generate_full_output

router = APIRouter()

class TextIn(BaseModel):
    raw_text: str

@router.post("/generate/")
def generate_article(data: TextIn):
    return generate_full_output(data.raw_text)
```

---

### 4. üñ•Ô∏è –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Frontend (React)
- –î–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫—É ¬´–£–Ω–∏–∫–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–∫—Å—Ç¬ª
- –û—Ç–ø—Ä–∞–≤–ª—è—Ç—å `raw_text` –Ω–∞ `/generate/`
- –ü–æ –æ—Ç–≤–µ—Ç—É:
  - –ø–æ–ª–µ `result` ‚Üí –≤ —Ç–µ–∫—Å—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
  - `title`, `h1`, `meta_description`, `keywords` ‚Üí –≤ SEO-–±–ª–æ–∫

---

### 5. üß™ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å
- –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—É—é —Å—Ç–∞—Ç—å—é
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –≤—Å–µ –ø–æ–ª—è –∑–∞–ø–æ–ª–Ω—è—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- –°—Ä–∞–≤–Ω–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Å Colab (–¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∏–¥–µ–Ω—Ç–∏—á–Ω—ã)

---

## üìå –ó–∞–º–µ—á–∞–Ω–∏—è
- –ú–æ–¥–µ–ª—å: `gpt-4o`, `temperature` –≤–∞—Ä—å–∏—Ä—É–µ—Ç—Å—è –ø–æ —Ä–æ–ª–∏
- –õ–æ–≥–∏–∫–∞ SEO-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–æ–≤ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Ç–æ—á–Ω–æ –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞ –∏–∑ Colab
- –í–æ–∑–º–æ–∂–Ω–∞ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Å async / –ø–æ—Ç–æ–∫–∞–º–∏

---

## üèÅ –§–∏–Ω–∞–ª
–ü–æ—Å–ª–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ AI –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø—Ä—è–º–æ –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ TRIVE: —É–Ω–∏–∫–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Å—Ç–∞—Ç—å–∏, –∑–∞–ø–æ–ª–Ω—è–µ—Ç SEO –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ –±–∞–∑—É.

> –ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ Colab-–≤–µ—Ä—Å–∏–∏ —Å–º. –≤ —Ñ–∞–π–ª–µ: `trive_ai_seo_microassistants.ipynb`
description:
globs:
alwaysApply: false
---
