
---
description: –ü—Ä–∞–≤–∏–ª–∞ –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ä–æ–ª–µ–≤–æ–π –ª–æ–≥–∏–∫–∏, –∫–Ω–æ–ø–æ–∫ –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ –≤ –ø—Ä–æ–µ–∫—Ç–µ TRIVE AI-–ö–æ–ø–∏—Ä–∞–π—Ç–µ—Ä
globs:
  - "**/*"
alwaysApply: true
---

# üìò –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ä–æ–ª–µ–≤–æ–π –ª–æ–≥–∏–∫–∏, –∫–Ω–æ–ø–æ–∫ –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ –≤ TRIVE AI-–ö–æ–ø–∏—Ä–∞–π—Ç–µ—Ä

## üë• –†–û–õ–ò –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–ï–ô –ò –ü–†–ê–í–ê

| –†–æ–ª—å         | –í–∏–¥–∏–º–æ—Å—Ç—å —Å—Ç–∞—Ç–µ–π        | –î–æ—Å—Ç—É–ø –∫ –ø–æ–ª—è–º             | –ö–Ω–æ–ø–∫–∏ –≤ –±–ª–æ–∫–µ ¬´–î–µ–π—Å—Ç–≤–∏—è¬ª                        |
|--------------|--------------------------|-----------------------------|--------------------------------------------------|
| **admin**    | –í—Å–µ —Å—Ç–∞—Ç—å–∏, –≤—Å–µ —É—Ä–æ–≤–Ω–∏   | –ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø               | ‚úÖ –°–æ–≥–ª–∞—Å–æ–≤–∞—Ç—å, üîµ –ù–∞ –¥–æ—Ä–∞–±–æ—Ç–∫—É, üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å, üóë –£–¥–∞–ª–∏—Ç—å |
| **moderator**| –í—Å–µ —Å—Ç–∞—Ç—å–∏, –≤—Å–µ —É—Ä–æ–≤–Ω–∏   | –ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø               | ‚úÖ –°–æ–≥–ª–∞—Å–æ–≤–∞—Ç—å, üîµ –ù–∞ –¥–æ—Ä–∞–±–æ—Ç–∫—É, üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å, üóë –£–¥–∞–ª–∏—Ç—å |
| **editor**   | –í—Å–µ —Å—Ç–∞—Ç—å–∏, –≤—Å–µ —Å—Ç–∞—Ç—É—Å—ã  | –ö–æ–Ω—Ç–µ–Ω—Ç, SEO, —Ç–µ–º–∞—Ç–∏–∫–∞      | üü¢ –°–æ–≥–ª–∞—Å–æ–≤–∞—Ç—å (–ø–æ –ª–æ–≥–∏–∫–µ), üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å, üóë –£–¥–∞–ª–∏—Ç—å     |
| **viewer**   | –í—Å–µ —Å—Ç–∞—Ç—å–∏, –≤—Å–µ —Å—Ç–∞—Ç—É—Å—ã  | –¢–æ–ª—å–∫–æ —á—Ç–µ–Ω–∏–µ               | üö´ –ë–ª–æ–∫ ¬´–î–µ–π—Å—Ç–≤–∏—è¬ª –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è               |

## üß≠ –î–û–°–¢–£–ü –ö –£–†–û–í–ù–Ø–ú –ò –°–û–ó–î–ê–ù–ò–Æ

- `admin` –∏ `moderator`: –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º —É—Ä–æ–≤–Ω—è–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ (2-–π, 3-–π –∏ —Ç.–¥.)
- `editor`:
  - –≤–∏–¥–∏—Ç –≤—Å–µ —Å—Ç–∞—Ç—å–∏ –∏ —Å—Ç–∞—Ç—É—Å—ã
  - –º–æ–∂–µ—Ç —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∏ **—Å–æ–∑–¥–∞–≤–∞—Ç—å** —Å—Ç–∞—Ç—å–∏ (—á–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫—É `SEO-–∫–æ–ø–∏—Ä–∞–π—Ç`)
- `viewer`: —Ç–æ–ª—å–∫–æ –ø—Ä–æ—Å–º–æ—Ç—Ä, –±–µ–∑ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –∫–Ω–æ–ø–æ–∫

## üîò –ö–ù–û–ü–ö–ò ¬´–î–ï–ô–°–¢–í–ò–Ø¬ª ‚Äî –õ–û–ì–ò–ö–ê –û–¢–û–ë–†–ê–ñ–ï–ù–ò–Ø –ò –ê–ö–¢–ò–í–ê–¶–ò–ò

### –†–µ–¥–∞–∫—Ç–æ—Ä (`editor`)

- **–ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã:**
  - –í—Å–µ –∫–Ω–æ–ø–∫–∏ –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã, –∫—Ä–æ–º–µ `–£–¥–∞–ª–∏—Ç—å`
- **–ü–æ—Å–ª–µ –≤–Ω–µ—Å–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –ø–æ–ª—è:**
  - –ê–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è `–°–æ—Ö—Ä–∞–Ω–∏—Ç—å`
- **–ü–æ—Å–ª–µ –Ω–∞–∂–∞—Ç–∏—è `–°–æ—Ö—Ä–∞–Ω–∏—Ç—å`:**
  - –ê–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è `–°–æ–≥–ª–∞—Å–æ–≤–∞—Ç—å`
- **–ü–æ—Å–ª–µ –Ω–∞–∂–∞—Ç–∏—è `–°–æ–≥–ª–∞—Å–æ–≤–∞—Ç—å`:**
  - –í—Å–µ –∫–Ω–æ–ø–∫–∏ —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã

### –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä / –ú–æ–¥–µ—Ä–∞—Ç–æ—Ä

- –í—Å–µ –∫–Ω–æ–ø–∫–∏ –¥–æ—Å—Ç—É–ø–Ω—ã –≤—Å–µ–≥–¥–∞
- –ù–∞–∂–∞—Ç–∏–µ `–°–æ–≥–ª–∞—Å–æ–≤–∞—Ç—å` ‚Üí —Å—Ç–∞—Ç—É—Å `approved`
- –ù–∞–∂–∞—Ç–∏–µ `–ù–∞ –¥–æ—Ä–∞–±–æ—Ç–∫—É` ‚Üí —Å—Ç–∞—Ç—É—Å `draft`
- `–£–¥–∞–ª–∏—Ç—å` –¥–æ—Å—Ç—É–ø–Ω–∞ –≤—Å–µ–≥–¥–∞

## üîÑ –°–¢–ê–¢–£–°–´ –°–¢–ê–¢–ï–ô

| –î–µ–π—Å—Ç–≤–∏–µ –ø–æ –∫–Ω–æ–ø–∫–µ   | –ù–æ–≤—ã–π —Å—Ç–∞—Ç—É—Å —Å—Ç–∞—Ç—å–∏ |
|----------------------|---------------------|
| `–°–æ—Ö—Ä–∞–Ω–∏—Ç—å`          | `draft`             |
| `–°–æ–≥–ª–∞—Å–æ–≤–∞—Ç—å` (editor) | `review`          |
| `–°–æ–≥–ª–∞—Å–æ–≤–∞—Ç—å` (admin/moderator) | `approved`     |
| `–ù–∞ –¥–æ—Ä–∞–±–æ—Ç–∫—É`       | `draft`             |

### –ü–µ—Ä–µ–≤–æ–¥—ã:
- `draft` ‚Üí –ß–µ—Ä–Ω–æ–≤–∏–∫  
- `review` ‚Üí –ù–∞ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–∏  
- `approved` ‚Üí –°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–æ

## üßæ –ò–°–¢–û–†–ò–Ø –î–ï–ô–°–¢–í–ò–ô (`text_history`)

### üìç –ò—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö:
–¢–∞–±–ª–∏—Ü–∞ `public.text_history`

#### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–±–ª–∏—Ü—ã (–ø–æ –ë–î):
| –ü–æ–ª–µ      | –¢–∏–ø                          | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                                |
|-----------|-------------------------------|-------------------------------------------|
| `id`      | integer (PK)                  | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID                             |
| `text_id` | integer                       | –°—Å—ã–ª–∫–∞ –Ω–∞ —Å—Ç–∞—Ç—å—é                          |
| `action`  | character varying(20)         | –ù–∞–∑–≤–∞–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏—è (–∏–∑ UI-–∫–Ω–æ–ø–∫–∏)          |
| `user`    | character varying(100)        | –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è                          |
| `time`    | timestamp without time zone   | –í—Ä–µ–º—è —Å–æ–±—ã—Ç–∏—è                             |

### üß† –ü—Ä–∞–≤–∏–ª–∞ –∑–∞–ø–∏—Å–∏ –≤ –∏—Å—Ç–æ—Ä–∏—é:

| –ù–∞–∑–≤–∞–Ω–∏–µ –∫–Ω–æ–ø–∫–∏ | `action` (—Ç–æ—á–Ω–æ)     | –°—Ç–∞—Ç—É—Å, —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º—ã–π –≤ —Å—Ç–∞—Ç—å–µ |
|-----------------|----------------------|----------------------------------|
| `–°–æ—Ö—Ä–∞–Ω–∏—Ç—å`      | `–°–æ—Ö—Ä–∞–Ω–∏—Ç—å`          | `draft`                          |
| `–°–æ–≥–ª–∞—Å–æ–≤–∞—Ç—å`    | `–°–æ–≥–ª–∞—Å–æ–≤–∞—Ç—å`        | `review` –∏–ª–∏ `approved`          |
| `–ù–∞ –¥–æ—Ä–∞–±–æ—Ç–∫—É`   | `–ù–∞ –¥–æ—Ä–∞–±–æ—Ç–∫—É`       | `draft`                          |

### üìã –ü—Ä–∏–º–µ—Ä –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ:
```
[2025-07-24, 13:27] admin1: –°–æ–≥–ª–∞—Å–æ–≤–∞—Ç—å ‚Äî —Å—Ç–∞—Ç—É—Å: –°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–æ
```

## üë§ –û–¢–û–ë–†–ê–ñ–ï–ù–ò–ï –¢–ï–ö–£–©–ï–ì–û –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø

### üìç –ì–¥–µ:
–ü—Ä–∞–≤—ã–π –≤–µ—Ä—Ö–Ω–∏–π —É–≥–æ–ª (–≤ Header)

### –°–æ–¥–µ—Ä–∂–∏–º–æ–µ:
- **–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è** (–ª–∞—Ç–∏–Ω–∏—Ü–µ–π)
- **–†–æ–ª—å –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ**:
  | –†–æ–ª—å (–≤ –∫–æ–¥–µ) | –û—Ç–æ–±—Ä–∞–∂–∞–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ |
  |---------------|------------------------|
  | `admin`       | –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä          |
  | `moderator`   | –ú–æ–¥–µ—Ä–∞—Ç–æ—Ä              |
  | `editor`      | –†–µ–¥–∞–∫—Ç–æ—Ä               |
  | `viewer`      | –ß–∏—Ç–∞—Ç–µ–ª—å               |

- **–ö–Ω–æ–ø–∫–∞ –≤—ã—Ö–æ–¥–∞**:
  - –ò–∫–æ–Ω–∫–∞ `üö™` –∏–ª–∏ SVG logout
  - –ü—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ ‚Äî `title="–í—ã–π—Ç–∏ –∏–∑ –∞–∫–∫–∞—É–Ω—Ç–∞"`
  - –ù–∞–∂–∞—Ç–∏–µ ‚Üí logout –∏ –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤—Ö–æ–¥–∞

## üîß –¢–ï–•–ù–ò–ß–ï–°–ö–ò–ï –ü–†–ò–ú–ï–ß–ê–ù–ò–Ø

- –í—Å–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –¥–æ–ª–∂–Ω—ã –ø—Ä–æ–≤–µ—Ä—è—Ç—å—Å—è –Ω–µ —Ç–æ–ª—å–∫–æ –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ, –Ω–æ –∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ (FastAPI)
- –í –∏—Å—Ç–æ—Ä–∏–∏ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø–æ–ª–Ω–æ–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –Ω–∞–∑–≤–∞–Ω–∏—è–º –∫–Ω–æ–ø–æ–∫ –∏–∑ UI
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ —Å—Ç–∞—Ç—å–∏ –≤ –∏—Å—Ç–æ—Ä–∏–∏ ‚Äî —á–µ–ª–æ–≤–µ–∫–æ—á–∏—Ç–∞–µ–º–æ–µ (–Ω–∞ —Ä—É—Å—Å–∫–æ–º)